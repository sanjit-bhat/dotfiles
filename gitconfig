[user]
    name = Sanjit Bhat
    email = sanjit.bhat@gmail.com
    signingkey = ~/.ssh/id_ed25519.pub

# security.
[gpg]
    format = ssh
[commit]
    gpgsign = true

# core git ops.
[branch]
    autosetuprebase = always
[pull]
    rebase = true
[rebase]
    autoStash = true
[push]
    autoSetupRemote = true

# random settings.
[core]
    autocrlf = input
    editor = nvim
    excludesfile = ~/.gitignore
    pager = delta
[advice]
    detachedHead = false
    statusHints = false
[color]
    ui = true
[init]
    defaultBranch = main

[alias]
    # TODO: many flags have analog config settings.
    ad = add
    br = branch --verbose
    ci = commit --edit
    cia = commit --amend
    cl = clone
    df = diff
    # format: "<hash><branch>|<date>|<committer>|<title>".
    # compact-summary: show changed files, lines, modes.
    # stat-count: max 7 files.
    lg = log --graph --format='%C(auto)%h%d|%as|%cn|%s' --compact-summary --stat-count=7
    # this doesn't seem to work: fetch.recurseSubmodules = on-demand
    pl = !git pull && git submodule update
    pu = push
    rb = rebase
    ro = remote
    # almost always use `--hard`, to rest both index and working tree.
    rs = reset --hard
    rt = restore --worktree
    rts = restore --staged
    rta = restore --staged --worktree
    rv = revert
    sh = show
    sm = submodule
    smu = submodule update
    ss = status
    st = stash
    sw = switch --recurse-submodules

# use `delta` for `git diff`.
[interactive]
    diffFilter = delta --color-only
[delta]
    # use n and N to move between diff sections.
    navigate = true
    hyperlinks = true
[merge]
    conflictstyle = zdiff3
[diff]
    # detect moved blocks of code and style them differently.
    colorMoved = default
